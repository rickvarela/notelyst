{"version":3,"sources":["context/AuthContext.js","context/NoteContext.js","assets/svg/site-logo.svg","assets/svg/delete-icon.svg","assets/svg/unsaved-icon.svg","components/MenuArea.js","assets/svg/user-icon.svg","components/EditorArea.js","sections/NoteLystApp.js","components/SiteHeader.js","components/$Form.js","sections/SignUp.js","sections/Login.js","App.js","reportWebVitals.js","index.js"],"names":["apiDomain","path","Context","createContext","Provider","children","useState","isLoaded","authUser","authState","setAuthState","value","authActions","checkAuth","a","fetch","method","credentials","then","res","json","data","login","user","cb","body","JSON","stringify","headers","signUp","signOut","prevState","useAuth","useContext","noteReducer","state","action","type","editorFocus","map","note","_id","_idUnderEdit","payload","editorState","saved","deepEqual","init_id","nanoid","createNewNote","length","_idToDelete","newData","filter","index","deletedIndex","noteState","parse","sessionStorage","getItem","selection","anchor","offset","focus","initNoteState","reset_id","object1","object2","keys1","Object","keys","keys2","key","val1","val2","areObjects","isObject","object","text","NoteProvider","useReducer","dispatchNoteState","useEffect","setItem","newNoteState","catch","noteActions","updateNoteUnderEdit","notePropsToUpdate","updateEditorStateUnderEdit","editorStateToUpdate","updateSelectionUnderEdit","selectionToUpdate","changeNoteUnderEdit","_idToEdit","deleteNote","saveNote","noteToSave","resetNotes","useNoteState","$MenuArea","styled","div","screenState","expandMenu","isMobile","MenuArea","handelExpand","$NoteMenuHeader","$SiteLogo","img","$Button","button","NoteMenuHeader","src","SiteLogo","onClick","$NoteList","NoteList","$NoteItem","props","isCurrent","isSaved","$IconWrapper","$NoteItemWrapper","$NoteItemText","bold","NoteItem","noteContent","className","deleteIcon","UnsavedIcon","Node","string","slice","n","trim","join","$EditorArea","EditorArea","$EditorAreaHeader","$Nav","nav","$Link","Link","$UserIcon","$UserText","EditorAreaHeader","UserIcon","username","to","role","$EditorInput","EditorInput","editor","useMemo","withReact","createEditor","Transforms","select","getCurentSeletionState","ReactEditor","onChange","placeholder","onBlur","$NoteLystApp","NoteLystApp","window","innerWidth","setScreenState","updateWindow","addEventListener","removeEventListener","$SiteHeader","SiteHeader","$Form","form","$SignUp","SignUp","email","password","input","setInput","history","useHistory","handelInputChange","event","target","name","prevInput","onSubmit","preventDefault","push","required","$Login","Login","$App","App","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6c5b36a6.chunk.js","sourcesContent":["import { createContext, useState, useContext } from 'react';\r\n\r\nconst apiDomain = (path) => {\r\n  const production = process.env.NODE_ENV === 'production';\r\n  return production ? 'https://api.rickvarela.com' + path : path;\r\n};\r\n\r\nconst Context = createContext();\r\n\r\nexport const Provider = ({ children }) => {\r\n  const [authState, setAuthState] = useState({\r\n    isLoaded: false,\r\n    authUser: null,\r\n  });\r\n\r\n  const checkAuth = async () => {\r\n    return await fetch(apiDomain('/api/checkAuth'), {\r\n      method: 'GET',\r\n      credentials: 'include',\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.authUser) {\r\n          setAuthState({\r\n            isLoaded: true,\r\n            authUser: data.authUser,\r\n          });\r\n          return true;\r\n        } else {\r\n          setAuthState({\r\n            isLoaded: true,\r\n            authUser: null,\r\n          });\r\n          return false;\r\n        }\r\n      });\r\n  };\r\n\r\n  const login = (user, cb) => {\r\n    fetch(apiDomain('/api/auth'), {\r\n      method: 'POST',\r\n      credentials: 'include',\r\n      body: JSON.stringify(user),\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    }).then(() => {\r\n      cb();\r\n    });\r\n  };\r\n\r\n  const signUp = (user, cb) => {\r\n    fetch(apiDomain('/api/signup'), {\r\n      method: 'POST',\r\n      body: JSON.stringify(user),\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    }).then(() => {\r\n      cb();\r\n    });\r\n  };\r\n\r\n  const signOut = async () => {\r\n    return await fetch(apiDomain('/api/delete'), {\r\n      method: 'POST',\r\n      credentials: 'include',\r\n    }).then(() => {\r\n      setAuthState((prevState) => ({\r\n        ...prevState,\r\n        authUser: null,\r\n      }));\r\n    });\r\n  };\r\n\r\n  const value = {\r\n    authState,\r\n    authActions: {\r\n      checkAuth,\r\n      login,\r\n      signUp,\r\n      signOut,\r\n    },\r\n  };\r\n\r\n  return <Context.Provider value={value}>{children}</Context.Provider>;\r\n};\r\n\r\nexport const useAuth = () => useContext(Context);\r\n","import { nanoid } from 'nanoid';\r\nimport {\r\n  createContext,\r\n  useContext,\r\n  useEffect,\r\n  useReducer,\r\n  useState,\r\n} from 'react';\r\nimport { useAuth } from './AuthContext';\r\n\r\nconst Context = createContext();\r\n\r\nconst apiDomain = (path) => {\r\n  const production = process.env.NODE_ENV === 'production';\r\n  return production ? 'https://api.rickvarela.com' + path : path;\r\n};\r\n\r\nconst noteReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'UPDATE_NOTE_PROPS_UNDER_EDIT':\r\n      return {\r\n        ...state,\r\n        editorFocus: false,\r\n        data: state.data.map((note) => {\r\n          if (note._id === state._idUnderEdit) {\r\n            if (action.payload.note.editorState) {\r\n              action.payload.note.saved = !note.saved\r\n                ? false\r\n                : deepEqual(note.editorState, action.payload.note.editorState);\r\n            }\r\n            return {\r\n              ...note,\r\n              ...action.payload.note,\r\n            };\r\n          }\r\n          return note;\r\n        }),\r\n      };\r\n\r\n    case 'CHANGE_NOTE_UNDER_EDIT':\r\n      return {\r\n        ...state,\r\n        editorFocus: true,\r\n        _idUnderEdit: action.payload._idUnderEdit,\r\n      };\r\n\r\n    case 'CREATE_NEW_NOTE':\r\n      let init_id = nanoid();\r\n      return {\r\n        ...state,\r\n        editorFocus: true,\r\n        _idUnderEdit: init_id,\r\n        data: [createNewNote(init_id), ...state.data],\r\n      };\r\n\r\n    case 'DELETE_NOTE':\r\n      if (state.data.length === 1) return state;\r\n\r\n      if (state._idUnderEdit === action.payload._idToDelete) {\r\n        let deletedIndex, newData, _idUnderEdit;\r\n        newData = state.data.filter((note, index) => {\r\n          if (note._id !== action.payload._idToDelete) {\r\n            return true;\r\n          }\r\n          deletedIndex = index;\r\n          return false;\r\n        });\r\n        if (deletedIndex === newData.length) {\r\n          _idUnderEdit = newData[newData.length - 1]._id;\r\n        } else {\r\n          _idUnderEdit = newData[deletedIndex]._id;\r\n        }\r\n        return {\r\n          ...state,\r\n          _idUnderEdit,\r\n          data: newData,\r\n        };\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        data: state.data.filter(\r\n          (note) => note._id !== action.payload._idToDelete\r\n        ),\r\n      };\r\n\r\n    case 'INIT_NOTE_LIST_LOCALSTOAGE':\r\n      return initNoteState();\r\n\r\n    case 'INIT_NOTE_LIST_DATABASE':\r\n      return action.payload.initNoteState;\r\n\r\n    case 'RESET_NOTE_LIST':\r\n      let reset_id = nanoid();\r\n      return {\r\n        _idUnderEdit: reset_id,\r\n        editorFocus: true,\r\n        data: [createNewNote(reset_id)],\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nfunction deepEqual(object1, object2) {\r\n  if (!object1 || !object2) return;\r\n  const keys1 = Object.keys(object1);\r\n  const keys2 = Object.keys(object2);\r\n\r\n  if (keys1.length !== keys2.length) {\r\n    return false;\r\n  }\r\n\r\n  for (const key of keys1) {\r\n    const val1 = object1[key];\r\n    const val2 = object2[key];\r\n    const areObjects = isObject(val1) && isObject(val2);\r\n    if (\r\n      (areObjects && !deepEqual(val1, val2)) ||\r\n      (!areObjects && val1 !== val2)\r\n    ) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\nfunction isObject(object) {\r\n  return object != null && typeof object === 'object';\r\n}\r\n\r\nconst createNewNote = (init_id) => {\r\n  return {\r\n    _id: init_id,\r\n    saved: true,\r\n    editorState: [\r\n      {\r\n        type: 'paragraph',\r\n        children: [{ text: '' }],\r\n      },\r\n    ],\r\n    selection: {\r\n      anchor: {\r\n        path: [0, 0],\r\n        offset: 0,\r\n      },\r\n      focus: {\r\n        path: [0, 0],\r\n        offset: 0,\r\n      },\r\n    },\r\n  };\r\n};\r\n\r\nfunction initNoteState(\r\n  noteState = JSON.parse(sessionStorage.getItem('noteLyst-data'))\r\n) {\r\n  if (noteState) {\r\n    noteState = noteState.map((note) => {\r\n      return {\r\n        ...note,\r\n        saved: false,\r\n        selection: {\r\n          anchor: {\r\n            path: [0, 0],\r\n            offset: 0,\r\n          },\r\n          focus: {\r\n            path: [0, 0],\r\n            offset: 0,\r\n          },\r\n        },\r\n      };\r\n    });\r\n    return {\r\n      _idUnderEdit: noteState[0]._id,\r\n      editorFocus: true,\r\n      data: noteState,\r\n    };\r\n  } else {\r\n    let init_id = nanoid();\r\n    return {\r\n      _idUnderEdit: init_id,\r\n      editorFocus: true,\r\n      data: [createNewNote(init_id)],\r\n    };\r\n  }\r\n}\r\n\r\nexport const NoteProvider = ({ children }) => {\r\n  const { authState, authActions } = useAuth();\r\n  const [noteState, dispatchNoteState] = useReducer(noteReducer, {});\r\n\r\n  useEffect(() => {\r\n    if (noteState.data) {\r\n      sessionStorage.setItem(\r\n        'noteLyst-data',\r\n        JSON.stringify(\r\n          noteState.data.map((note) => {\r\n            return { _id: note._id, editorState: note.editorState };\r\n          })\r\n        )\r\n      );\r\n    }\r\n  }, [noteState.data]);\r\n\r\n  const updateNoteUnderEdit = (notePropsToUpdate) => {\r\n    dispatchNoteState({\r\n      type: 'UPDATE_NOTE_PROPS_UNDER_EDIT',\r\n      payload: {\r\n        note: notePropsToUpdate,\r\n      },\r\n    });\r\n  };\r\n\r\n  const updateEditorStateUnderEdit = (editorStateToUpdate) => {\r\n    dispatchNoteState({\r\n      type: 'UPDATE_NOTE_PROPS_UNDER_EDIT',\r\n      payload: {\r\n        note: { editorState: editorStateToUpdate },\r\n      },\r\n    });\r\n  };\r\n\r\n  const updateSelectionUnderEdit = (selectionToUpdate) => {\r\n    dispatchNoteState({\r\n      type: 'UPDATE_NOTE_PROPS_UNDER_EDIT',\r\n      payload: {\r\n        note: { selection: selectionToUpdate },\r\n      },\r\n    });\r\n  };\r\n\r\n  const changeNoteUnderEdit = (_idToEdit) => {\r\n    dispatchNoteState({\r\n      type: 'CHANGE_NOTE_UNDER_EDIT',\r\n      payload: { _idUnderEdit: _idToEdit },\r\n    });\r\n  };\r\n\r\n  const createNewNote = () => {\r\n    dispatchNoteState({\r\n      type: 'CREATE_NEW_NOTE',\r\n    });\r\n  };\r\n\r\n  const deleteNote = (_idToDelete) => {\r\n    if (authState.authUser) {\r\n      fetch('/api/note/delete', {\r\n        method: 'POST',\r\n        credentials: 'include',\r\n        body: JSON.stringify({ _idToDelete }),\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n      })\r\n        .then(() => {\r\n          dispatchNoteState({\r\n            type: 'DELETE_NOTE',\r\n            payload: { _idToDelete, saved: true },\r\n          });\r\n        })\r\n        .catch(() => {\r\n          //Do nothing\r\n        });\r\n    } else {\r\n      dispatchNoteState({\r\n        type: 'DELETE_NOTE',\r\n        payload: { _idToDelete, saved: true }, //TODO remove saved\r\n      });\r\n    }\r\n  };\r\n\r\n  const saveNote = (noteToSave) => {\r\n    fetch(apiDomain('/api/note'), {\r\n      method: 'POST',\r\n      credentials: 'include',\r\n      body: JSON.stringify(noteToSave),\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    }).then(() => {\r\n      dispatchNoteState({\r\n        type: 'UPDATE_NOTE_PROPS_UNDER_EDIT',\r\n        payload: {\r\n          note: { saved: true },\r\n        },\r\n      });\r\n    });\r\n  };\r\n\r\n  const initNoteState = async () => {\r\n    const isAuth = await authActions.checkAuth();\r\n    if (isAuth) {\r\n      fetch(apiDomain('/api/notes/user'), {\r\n        method: 'GET',\r\n        credentials: 'include',\r\n      })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          let newNoteState = {\r\n            _idUnderEdit: data[0]._id,\r\n            editorFocus: true,\r\n            data: data.map((note) => {\r\n              return {\r\n                ...note,\r\n                saved: true,\r\n                selection: {\r\n                  anchor: {\r\n                    path: [0, 0],\r\n                    offset: 0,\r\n                  },\r\n                  focus: {\r\n                    path: [0, 0],\r\n                    offset: 0,\r\n                  },\r\n                },\r\n              };\r\n            }),\r\n          };\r\n          dispatchNoteState({\r\n            type: 'INIT_NOTE_LIST_DATABASE',\r\n            payload: { initNoteState: newNoteState },\r\n          });\r\n        })\r\n        .catch(() => {\r\n          dispatchNoteState({\r\n            type: 'INIT_NOTE_LIST_LOCALSTOAGE',\r\n          });\r\n        });\r\n    } else {\r\n      dispatchNoteState({\r\n        type: 'INIT_NOTE_LIST_LOCALSTOAGE',\r\n      });\r\n    }\r\n  };\r\n\r\n  const resetNotes = () => {\r\n    dispatchNoteState({\r\n      type: 'RESET_NOTE_LIST',\r\n    });\r\n  };\r\n\r\n  const value = {\r\n    noteState,\r\n    dispatchNoteState,\r\n    noteActions: {\r\n      updateNoteUnderEdit,\r\n      updateEditorStateUnderEdit,\r\n      updateSelectionUnderEdit,\r\n      changeNoteUnderEdit,\r\n      createNewNote,\r\n      deleteNote,\r\n      saveNote,\r\n      initNoteState,\r\n      resetNotes,\r\n    },\r\n  };\r\n\r\n  return <Context.Provider value={value}>{children}</Context.Provider>;\r\n};\r\n\r\nexport const useNoteState = () => useContext(Context);\r\n","export default __webpack_public_path__ + \"static/media/site-logo.fbbde1f3.svg\";","export default __webpack_public_path__ + \"static/media/delete-icon.b49d62b8.svg\";","export default __webpack_public_path__ + \"static/media/unsaved-icon.13111683.svg\";","import styled from 'styled-components';\r\nimport { useNoteState } from '../context/NoteContext';\r\nimport { Node } from 'slate';\r\nimport SiteLogo from '../assets/svg/site-logo.svg';\r\nimport deleteIcon from '../assets/svg/delete-icon.svg';\r\nimport UnsavedIcon from '../assets/svg/unsaved-icon.svg';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\nconst $MenuArea = styled.div`\r\n  background-color: #e7ebee;\r\n  width: ${({ screenState }) =>\r\n    screenState.expandMenu ? 0 : screenState.isMobile ? '100%' : '400px'};\r\n  overflow-x: hidden;\r\n  opacity: ${({ screenState }) => (screenState.expandMenu ? 0 : '100%')};\r\n  transition: opacity 700ms;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport const MenuArea = ({ handelExpand, screenState }) => {\r\n  return (\r\n    <$MenuArea handelExpand={handelExpand} screenState={screenState}>\r\n      <NoteMenuHeader handelExpand={handelExpand} screenState={screenState} />\r\n      <NoteList handelExpand={handelExpand} screenState={screenState} />\r\n    </$MenuArea>\r\n  );\r\n};\r\n\r\n// Note Menu Header\r\n\r\nconst $NoteMenuHeader = styled.div`\r\n  background-color: #324a5f;\r\n  color: white;\r\n  display: flex;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst $SiteLogo = styled.img`\r\n  height: 25px;\r\n  margin: auto 5px;\r\n`;\r\n\r\nconst $Button = styled.button`\r\n  text-decoration: none;\r\n  color: black;\r\n  background-color: #ced6df;\r\n  line-height: 35px;\r\n  padding: 0 10px;\r\n  text-align: center;\r\n  cursor: pointer;\r\n  border: none;\r\n\r\n  &:hover {\r\n    background-color: #bbc6d3;\r\n  }\r\n`;\r\n\r\nconst NoteMenuHeader = ({ handelExpand, screenState }) => {\r\n  const { dispatchNoteState } = useNoteState();\r\n\r\n  const handelCreateNote = () => {\r\n    dispatchNoteState({\r\n      type: 'CREATE_NEW_NOTE',\r\n    });\r\n  };\r\n\r\n  return (\r\n    <$NoteMenuHeader>\r\n      <$SiteLogo src={SiteLogo} />\r\n      <div>\r\n        {screenState.isMobile && (\r\n          <$Button onClick={handelExpand}>CLOSE MENU</$Button>\r\n        )}\r\n        <$Button onClick={handelCreateNote}>NEW NOTE</$Button>\r\n      </div>\r\n    </$NoteMenuHeader>\r\n  );\r\n};\r\n\r\n// Note List\r\n\r\nconst $NoteList = styled.div`\r\n  overflow-y: auto;\r\n`;\r\n\r\nconst NoteList = ({ handelExpand, screenState }) => {\r\n  const { noteState, dispatchNoteState } = useNoteState();\r\n  return (\r\n    <$NoteList>\r\n      {noteState.data.map((note) => (\r\n        <NoteItem\r\n          note={note}\r\n          key={note._id}\r\n          _idUnderEdit={noteState._idUnderEdit}\r\n          handelExpand={handelExpand}\r\n          screenState={screenState}\r\n        />\r\n      ))}\r\n    </$NoteList>\r\n  );\r\n};\r\n\r\n// Note Item\r\n\r\nconst $NoteItem = styled.div`\r\n  background-color: ${(props) => (props.isCurrent ? '#A1B9CE' : 'none')};\r\n  padding: 5px;\r\n  height: 60px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  border-bottom: 1px solid #bbc6d3;\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    background-color: ${(props) => (props.isCurrent ? 'none' : '#CED6DF')};\r\n  }\r\n\r\n  img.deleteIcon {\r\n    opacity: 0;\r\n    height: 15px;\r\n  }\r\n\r\n  img.UnsavedIcon {\r\n    opacity: ${(props) => (props.isSaved ? 0 : 1)};\r\n    height: 15px;\r\n  }\r\n\r\n  &:hover img.deleteIcon {\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nconst $IconWrapper = styled.div`\r\n  width: 20px;\r\n  width: 20px;\r\n`;\r\n\r\nconst $NoteItemWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  height: 100%;\r\n  width: 100%;\r\n  overflow: hidden;\r\n  padding-left: 5px;\r\n`;\r\n\r\nconst $NoteItemText = styled.div`\r\n  font-weight: ${(props) => (props.bold ? 'bold' : 'normal')};\r\n  margin: auto 0;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  min-height: 1.5em;\r\n`;\r\n\r\nconst NoteItem = ({ note, _idUnderEdit, handelExpand, screenState }) => {\r\n  const { noteActions } = useNoteState();\r\n  const { authState } = useAuth();\r\n  let noteContent = note.editorState;\r\n\r\n  const getNoteText = () => {\r\n    return noteContent\r\n      .slice(1)\r\n      .filter((n) => Node.string(n) !== '')\r\n      .map((n) => Node.string(n).trim())\r\n      .join(' ');\r\n  };\r\n\r\n  const handelClick = () => {\r\n    noteActions.changeNoteUnderEdit(note._id);\r\n    if (screenState.isMobile) handelExpand();\r\n  };\r\n\r\n  const handelDelete = () => {\r\n    noteActions.deleteNote(note._id);\r\n  };\r\n\r\n  return (\r\n    <$NoteItem isCurrent={note._id === _idUnderEdit} isSaved={note.saved}>\r\n      <$IconWrapper>\r\n        <img className='deleteIcon' onClick={handelDelete} src={deleteIcon} />\r\n        {authState.authUser && (\r\n          <img className='UnsavedIcon' src={UnsavedIcon} />\r\n        )}\r\n      </$IconWrapper>\r\n      <$NoteItemWrapper onClick={handelClick}>\r\n        <$NoteItemText bold>\r\n          {noteContent.length <= 1 && Node.string(noteContent[0]) === ''\r\n            ? 'New note...'\r\n            : Node.string(noteContent[0])}\r\n        </$NoteItemText>\r\n        {noteContent.length > 1 && (\r\n          <$NoteItemText>{getNoteText()}</$NoteItemText>\r\n        )}\r\n      </$NoteItemWrapper>\r\n    </$NoteItem>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/user-icon.e4431ccb.svg\";","import { Transforms } from 'slate';\r\nimport styled from 'styled-components';\r\nimport { Link } from 'react-router-dom';\r\nimport { Slate, withReact, Editable, ReactEditor } from 'slate-react';\r\nimport { createEditor } from 'slate';\r\nimport { useEffect, useMemo } from 'react';\r\nimport { useNoteState } from '../context/NoteContext';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport UserIcon from '../assets/svg/user-icon.svg';\r\n\r\n//Editor Area\r\n\r\nconst $EditorArea = styled.div`\r\n  //background-color: none;\r\n  flex: 1;\r\n  display: flex;\r\n  width: ${({ screenState }) =>\r\n    screenState.isMobile && screenState.expandMenu ? '100%' : 0};\r\n  overflow: hidden;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport const EditorArea = ({ handelExpand, screenState }) => {\r\n  return (\r\n    <$EditorArea screenState>\r\n      <EditorAreaHeader handelExpand={handelExpand} />\r\n      <EditorInput />\r\n    </$EditorArea>\r\n  );\r\n};\r\n\r\n//Editor Header\r\n\r\nconst $EditorAreaHeader = styled.div`\r\n  background-color: #324a5f;\r\n  color: white;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst $Button = styled.button`\r\n  text-decoration: none;\r\n  color: black;\r\n  background-color: #ced6df;\r\n  line-height: 35px;\r\n  padding: 0 10px;\r\n  text-align: center;\r\n  cursor: pointer;\r\n  border: none;\r\n\r\n  &:hover {\r\n    background-color: #bbc6d3;\r\n  }\r\n`;\r\n\r\nconst $Nav = styled.nav`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n`;\r\n\r\nconst $Link = styled(Link)`\r\n  text-decoration: none;\r\n  color: black;\r\n  background-color: #ced6df;\r\n  line-height: 35px;\r\n  padding: 0 10px;\r\n  text-align: center;\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    background-color: #bbc6d3;\r\n  }\r\n`;\r\n\r\nconst $UserIcon = styled.img`\r\n  height: 20px;\r\n`;\r\n\r\nconst $UserText = styled.div`\r\n  margin: 0 40px 0 10px;\r\n`;\r\n\r\nconst EditorAreaHeader = ({ handelExpand }) => {\r\n  const { authState, authActions } = useAuth();\r\n  const { noteState, noteActions } = useNoteState();\r\n\r\n  const handelSignOut = () => {\r\n    authActions.signOut().then(() => {\r\n      noteActions.resetNotes();\r\n    });\r\n  };\r\n\r\n  const getCurrentNote = () => {\r\n    return noteState.data.filter(\r\n      (note) => note._id === noteState._idUnderEdit\r\n    )[0];\r\n  };\r\n\r\n  const handelSave = () => {\r\n    noteActions.saveNote(getCurrentNote());\r\n  };\r\n\r\n  return (\r\n    <$EditorAreaHeader>\r\n      <div>\r\n        <$Button onClick={handelExpand}>EXPAND MENU</$Button>\r\n        {authState.authUser && (\r\n          <$Button onClick={handelSave}>SAVE NOTE</$Button>\r\n        )}\r\n      </div>\r\n      <$Nav>\r\n        {authState.authUser ? (\r\n          <>\r\n            <$UserIcon src={UserIcon} />\r\n            <$UserText>{authState.authUser.username}</$UserText>\r\n            <$Button onClick={handelSignOut}>SIGN OUT</$Button>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <$Link to='/signup' role='button'>\r\n              SIGN UP\r\n            </$Link>\r\n            <$Link to='/login' role='button'>\r\n              LOGIN\r\n            </$Link>\r\n          </>\r\n        )}\r\n      </$Nav>\r\n    </$EditorAreaHeader>\r\n  );\r\n};\r\n\r\n//Editor Input\r\n\r\nconst $EditorInput = styled.div`\r\n  flex: 1;\r\n  padding: 40px;\r\n`;\r\n\r\nconst EditorInput = () => {\r\n  const editor = useMemo(() => withReact(createEditor()), []);\r\n  const { noteState, noteActions } = useNoteState();\r\n\r\n  useEffect(() => {\r\n    if (noteState.editorFocus) {\r\n      Transforms.select(editor, getCurentSeletionState());\r\n      ReactEditor.focus(editor);\r\n    }\r\n  }, [noteState]);\r\n\r\n  const getCurrentNoteState = () => {\r\n    return noteState.data.filter(\r\n      (note) => note._id === noteState._idUnderEdit\r\n    )[0].editorState;\r\n  };\r\n\r\n  const getCurentSeletionState = () => {\r\n    return noteState.data.filter(\r\n      (note) => note._id === noteState._idUnderEdit\r\n    )[0].selection;\r\n  };\r\n\r\n  return (\r\n    <$EditorInput>\r\n      <Slate\r\n        editor={editor}\r\n        value={getCurrentNoteState()}\r\n        onChange={noteActions.updateEditorStateUnderEdit}\r\n      >\r\n        <Editable\r\n          placeholder='Enter some text...'\r\n          onBlur={() => noteActions.updateSelectionUnderEdit(editor.selection)}\r\n        />\r\n      </Slate>\r\n    </$EditorInput>\r\n  );\r\n};\r\n","import styled from 'styled-components';\r\nimport { useState, useEffect } from 'react';\r\n\r\nimport { MenuArea } from '../components/MenuArea';\r\nimport { EditorArea } from '../components/EditorArea';\r\nimport { useNoteState } from '../context/NoteContext';\r\n\r\nconst $NoteLystApp = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  width: 100%;\r\n`;\r\n\r\nexport const NoteLystApp = () => {\r\n  const [screenState, setScreenState] = useState({\r\n    isMobile: window.innerWidth < 800,\r\n    expandMenu: false,\r\n  });\r\n  const { noteState, noteActions } = useNoteState();\r\n\r\n  useEffect(() => {\r\n    noteActions.initNoteState()\r\n    const updateWindow = () => {\r\n      setScreenState((prevState) => ({\r\n        ...prevState,\r\n        isMobile: window.innerWidth < 800,\r\n      }));\r\n    };\r\n\r\n    window.addEventListener('resize', updateWindow);\r\n    return () => window.removeEventListener('resize', updateWindow);\r\n  }, []);\r\n\r\n  const handelExpand = () => {\r\n    setScreenState((prevState) => ({\r\n      ...prevState,\r\n      expandMenu: !prevState.expandMenu,\r\n    }));\r\n  };\r\n\r\n  return noteState.data ? (\r\n    <$NoteLystApp>\r\n      <MenuArea handelExpand={handelExpand} screenState={screenState} />\r\n      <EditorArea handelExpand={handelExpand} screenState={screenState} />\r\n    </$NoteLystApp>\r\n  ) : null;\r\n};\r\n","import styled from 'styled-components';\r\nimport SiteLogo from '../assets/svg/site-logo.svg';\r\n\r\nconst $SiteHeader = styled.div`\r\n  background-color: #324a5f;\r\n  color: white;\r\n  height: 35px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n`;\r\n\r\nconst $SiteLogo = styled.img`\r\n  height: 25px;\r\n  margin-left: 5px;\r\n`;\r\n\r\nexport const SiteHeader = () => {\r\n  return (\r\n    <$SiteHeader>\r\n      <$SiteLogo src={SiteLogo} />\r\n    </$SiteHeader>\r\n  );\r\n};\r\n","import styled from 'styled-components';\r\n\r\nexport const $Form = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  max-width: 400px;\r\n  margin: auto;\r\n  border: 1px solid black;\r\n  padding: 40px;\r\n  border-radius: 5px;\r\n\r\n  > input {\r\n    font-size: 1.25rem;\r\n  }\r\n\r\n  > input:-webkit-autofill::first-line {\r\n    font-family: $body-font;\r\n    font-size: 1.25rem;\r\n  }\r\n\r\n  input[type='submit'] {\r\n    margin-top: 20px;\r\n  }\r\n`;\r\n","import styled from 'styled-components';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\nimport { SiteHeader } from '../components/SiteHeader';\r\nimport { $Form } from '../components/$Form';\r\nimport { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst $SignUp = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n`;\r\n\r\nexport const SignUp = () => {\r\n  const [input, setInput] = useState({\r\n    username: '',\r\n    email: '',\r\n    password: '',\r\n  });\r\n  const history = useHistory();\r\n  const { authActions } = useAuth();\r\n\r\n  const handelInputChange = (event) => {\r\n    const { value, name } = event.target;\r\n    setInput((prevInput) => ({\r\n      ...prevInput,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handelSubmit = (event) => {\r\n    event.preventDefault();\r\n    authActions.signUp(input, () => {\r\n      history.push('/');\r\n    });\r\n  };\r\n\r\n  return (\r\n    <$SignUp>\r\n      <SiteHeader />\r\n      <$Form onSubmit={handelSubmit}>\r\n        <h2>Create a new account</h2>\r\n        <label>UserName</label>\r\n        <input\r\n          type='text'\r\n          name='username'\r\n          placeholder='Enter Username'\r\n          value={input.username}\r\n          onChange={handelInputChange}\r\n          required\r\n        />\r\n        <label>Email</label>\r\n        <input\r\n          type='text'\r\n          name='email'\r\n          placeholder='Enter Email'\r\n          value={input.email}\r\n          onChange={handelInputChange}\r\n          required\r\n        />\r\n        <label>Password</label>\r\n        <input\r\n          type='text'\r\n          name='password'\r\n          placeholder='Enter Password'\r\n          value={input.password}\r\n          onChange={handelInputChange}\r\n          required\r\n        />\r\n        <input type='submit' />\r\n      </$Form>\r\n    </$SignUp>\r\n  );\r\n};\r\n","import styled from 'styled-components';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useState } from 'react';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\nimport { SiteHeader } from '../components/SiteHeader';\r\nimport { $Form } from '../components/$Form';\r\n\r\nconst $Login = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n`;\r\n\r\nexport const Login = () => {\r\n  const history = useHistory();\r\n  const [input, setInput] = useState({\r\n    username: '',\r\n    password: '',\r\n  });\r\n  const { authActions } = useAuth();\r\n\r\n  const handelInputChange = (event) => {\r\n    const { value, name } = event.target;\r\n    setInput((prevInput) => ({\r\n      ...prevInput,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handelSubmit = (event) => {\r\n    event.preventDefault();\r\n    authActions.login(input, () => {\r\n      history.push('/');\r\n    });\r\n  };\r\n  return (\r\n    <$Login>\r\n      <SiteHeader />\r\n      <$Form onSubmit={handelSubmit}>\r\n        <h2>Login</h2>\r\n        <label>UserName</label>\r\n        <input\r\n          type='text'\r\n          name='username'\r\n          placeholder='Enter Username'\r\n          value={input.username}\r\n          onChange={handelInputChange}\r\n          required\r\n        />\r\n        <label>Password</label>\r\n        <input\r\n          type='password'\r\n          name='password'\r\n          placeholder='Enter Username'\r\n          value={input.password}\r\n          onChange={handelInputChange}\r\n          required\r\n        />\r\n        <input type='submit' value='submit' />\r\n      </$Form>\r\n    </$Login>\r\n  );\r\n};\r\n","import styled from 'styled-components';\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\n\nimport { NoteLystApp } from './sections/NoteLystApp';\nimport { SignUp } from './sections/SignUp';\nimport { Login } from './sections/Login';\nimport { NoteProvider } from './context/NoteContext';\n\nconst $App = styled.div`\n  display: flex;\n  flex-direction: row;\n  height: 100vh;\n  width: 100vw;\n  font-family: 'Nunito', sans-serif;\n`;\n\nfunction App() {\n  return (\n    <$App>\n      <Router>\n        <Switch>\n          <Route path='/' exact>\n            <NoteProvider>\n              <NoteLystApp />\n            </NoteProvider>\n          </Route>\n          <Route path='/signup'>\n            <SignUp />\n          </Route>\n          <Route path='/login'>\n            <Login />\n          </Route>\n        </Switch>\n      </Router>\n    </$App>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport { Provider } from './context/AuthContext';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}